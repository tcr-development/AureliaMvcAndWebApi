/*
    *
    * Wijmo Library 5.20152.84
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){"use strict";function et(){return ft}function l(n,t){return n==null?null:u(t)?c(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function ht(n){return u(n)||f(n)||h(n)||r(n)}function u(n){return typeof n=="string"}function ct(n){return n==null?!0:n.replace(/\s/g,"").length<1}function f(n){return typeof n=="number"}function b(n){return f(n)&&n==Math.round(n)}function h(n){return typeof n=="boolean"}function c(n){return typeof n=="function"}function lt(n){return typeof n=="undefined"}function r(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function a(n){return n!=null&&typeof n=="object"&&!r(n)&&!o(n)}function at(n){if(n instanceof s)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),f(n.clientX)&&f(n.clientY))return new s(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected.";}function vt(n){return f(n)?2:h(n)?3:r(n)?4:u(n)?1:o(n)?5:0}function yt(t,i,r){var e,f;if(t!=null){if(u(t))switch(i){case 2:return e=n.Globalize.parseFloat(t,r),isNaN(e)?t:e;case 4:return f=n.Globalize.parseDate(t,r),f||(f=new Date(t)),f&&isFinite(f.getTime())?f:t;case 3:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(i==1)return n.Globalize.format(t,r)}return t}function pt(t,i,r){return t=v(t),t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&u[0]!="{"&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),o==null?"":o})}function wt(n,t,i){return n!=null&&(i!=null&&n>i&&(n=i),t!=null&&n<t&&(n=t)),n}function k(i,r){var u,f;for(u in r)t(u in i,'Unknown key "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&c(f)?i[u].addHandler(f):a(f)&&i[u]?k(i[u],f):i[u]=f)}function t(n,t){if(!n)throw"** Assertion failed in Wijmo: "+t;}function v(n,i){return typeof i=="undefined"&&(i=!0),t(i&&n==null||u(n),"String expected."),n}function i(n,i,r){if(typeof i=="undefined"&&(i=!1),typeof r=="undefined"&&(r=!1),t(i&&n==null||f(n),"Number expected."),r&&n&&n<0)throw"Positive number expected.";return n}function bt(n,i,r){if(typeof i=="undefined"&&(i=!1),typeof r=="undefined"&&(r=!1),t(i&&n==null||b(n),"Integer expected."),r&&n&&n<0)throw"Positive integer expected.";return n}function d(n,i){return typeof i=="undefined"&&(i=!1),t(i&&n==null||h(n),"Boolean expected."),n}function kt(n,i){return typeof i=="undefined"&&(i=!1),t(i&&n==null||r(n),"Date expected."),n}function e(n,i){return typeof i=="undefined"&&(i=!0),t(i&&n==null||c(n),"Function expected."),n}function dt(n,i){return typeof i=="undefined"&&(i=!0),t(i&&n==null||o(n),"Array expected."),n}function g(n,i,r){return typeof r=="undefined"&&(r=!1),n=l(n,i),t(r||n!=null,i+" expected."),n}function gt(n,i,r){if(typeof r=="undefined"&&(r=!1),n==null&&r)return null;var u=i[n];return t(u!=null,"Invalid enum value."),f(u)?u:n}function ni(i,r){if(typeof r=="undefined"&&(r=!0),i==null&&r)return null;var u=l(i,"ICollectionView");return u!=null?u:(o(i)||t(!1,"Array or ICollectionView expected."),new n.collections.CollectionView(i))}function ti(n){return u(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return nt[n]})),n}function y(n,t){if(n&&n.getAttribute){var i=new RegExp("\\b"+t+"\\b");return n&&i.test(n.getAttribute("class"))}return!1}function tt(n,t){if(n&&n.setAttribute&&y(n,t)){var i=new RegExp("\\s?\\b"+t+"\\b","g"),r=n.getAttribute("class");n.setAttribute("class",r.replace(i,""))}}function it(n,t){if(n&&n.setAttribute&&!y(n,t)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+t:t)}}function ii(n,t,i){i?it(n,t):tt(n,t)}function ri(n,t,r){if(n=g(n,HTMLInputElement),p(document.body,n)&&!n.disabled&&n.style.display!="none")try{n.setSelectionRange(i(t),i(r));n.focus()}catch(u){}}function ui(n){return n instanceof HTMLElement?n:u(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function fi(n){var t=document.createElement("div");return t.innerHTML=n,t.removeChild(t.firstChild)}function ei(n,t){if(t==null){n.hasChildNodes()&&(n.textContent="");return}var i=n.firstChild;n.childNodes.length==1&&i.nodeType==3?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function p(n,t){for(var i=t;i;i=i.parentNode)if(i===n)return!0;return!1}function oi(n,t){var u=n,r,i;for(n=n.parentNode;n;n=n.parentNode)if(r=n.querySelectorAll&&n.querySelectorAll(t),r&&r.length){for(i=0;i<r.length;i++)if(r[i]==u)return u;for(i=0;i<r.length;i++)if(p(r[i],u))return r[i];return null}return null}function si(n){var t=n.getBoundingClientRect();return new w(t.left+window.pageXOffset,t.top+window.pageYOffset,t.width,t.height)}function hi(n,t){var u=n.style,i,r;for(i in t)r=t[i],typeof r=="number"&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(r+="px"),u[i]!=r&&(u[i]=r.toString())}function ci(n,t,r){typeof t=="undefined"&&(t=400);typeof r=="undefined"&&(r=35);e(n);i(t,!1,!0);i(r,!1,!0);var u=0,f=setInterval(function(){var i=u/t;i=Math.sin(i*Math.PI/2);i*=i;n(i);u+=r;u>=t&&(i<1&&n(1),clearInterval(f))},r);return f}function li(n,t){var f,o,l,i,s,h;t||(t={});var c=t.method?v(t.method).toUpperCase():"GET",y=t.async!=null?d(t.async):!0,r=t.data;if(r!=null&&c=="GET"){f=[];for(o in r)f.push(o+"="+r[o]);f.length&&(l=n.indexOf("?")<0?"?":"&",n+=l+f.join("&"));r=null}if(i=new XMLHttpRequest,i.URL_DEBUG=n,s=!1,r==null||u(r)||(s=a(r),r=JSON.stringify(r)),i.onload=function(){i.readyState==4&&(i.status<300?t.success&&e(t.success)(i):t.error&&e(t.error)(i),t.complete&&e(t.complete)(i))},i.onerror=function(){if(t.error)e(t.error)(i);else throw"HttpRequest Error: "+i.status+" "+i.statusText;},i.open(c,n,y,t.user,t.password),t.user&&t.password&&i.setRequestHeader("Authorization","Basic "+btoa(t.user+":"+t.password)),s&&i.setRequestHeader("Content-Type","application/json"),t.requestHeaders)for(h in t.requestHeaders)i.setRequestHeader(h,t.requestHeaders[h]);return i.send(r),i}var ft="5.20152.84",ot,st,nt,s,rt,w,ut;n.getVersion=et,function(n){n[n.Back=8]="Back";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.Escape=27]="Escape";n[n.Space=32]="Space";n[n.PageUp=33]="PageUp";n[n.PageDown=34]="PageDown";n[n.End=35]="End";n[n.Home=36]="Home";n[n.Left=37]="Left";n[n.Up=38]="Up";n[n.Right=39]="Right";n[n.Down=40]="Down";n[n.Delete=46]="Delete";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F3=114]="F3";n[n.F4=115]="F4";n[n.F5=116]="F5";n[n.F6=117]="F6";n[n.F7=118]="F7";n[n.F8=119]="F8";n[n.F9=120]="F9";n[n.F10=121]="F10";n[n.F11=122]="F11";n[n.F12=123]="F12"}(n.Key||(n.Key={}));ot=n.Key,function(n){n[n.Object=0]="Object";n[n.String=1]="String";n[n.Number=2]="Number";n[n.Boolean=3]="Boolean";n[n.Date=4]="Date";n[n.Array=5]="Array"}(n.DataType||(n.DataType={}));st=n.DataType;n.tryCast=l;n.isPrimitive=ht;n.isString=u;n.isNullOrWhiteSpace=ct;n.isNumber=f;n.isInt=b;n.isBoolean=h;n.isFunction=c;n.isUndefined=lt;n.isDate=r;n.isArray=o;n.isObject=a;n.mouseToPage=at;n.getType=vt;n.changeType=yt;n.format=pt;n.clamp=wt;n.copy=k;n.assert=t;n.asString=v;n.asNumber=i;n.asInt=bt;n.asBoolean=d;n.asDate=kt;n.asFunction=e;n.asArray=dt;n.asType=g;n.asEnum=gt;n.asCollectionView=ni;n.escapeHtml=ti;nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};n.hasClass=y;n.removeClass=tt;n.addClass=it;n.toggleClass=ii;n.setSelectionRange=ri;n.getElement=ui;n.createElement=fi;n.setText=ei;n.contains=p;n.closest=oi;n.getElementRect=si;n.setCss=hi;n.animate=ci;s=function(){function n(n,t){typeof n=="undefined"&&(n=0);typeof t=="undefined"&&(t=0);this.x=i(n);this.y=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}();n.Point=s;rt=function(){function n(n,t){typeof n=="undefined"&&(n=0);typeof t=="undefined"&&(t=0);this.width=i(n);this.height=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}();n.Size=rt;w=function(){function n(n,t,r,u){this.left=i(n);this.top=i(t);this.width=i(r);this.height=i(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){if(i.left!=null)return new n(i.left,i.top,i.width,i.height);if(i.x!=null)return new n(i.x,i.y,i.width,i.height);t(!1,"Invalid source rectangle.")},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof s)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}();n.Rect=w;ut=function(){function n(){}return n.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},n.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},n.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},n.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},n.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},n.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},n.sameDate=function(n,t){return r(n)&&r(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},n.sameTime=function(n,t){return r(n)&&r(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},n.equals=function(n,t){return r(n)&&r(t)&&n.getTime()==t.getTime()},n.fromDateTime=function(n,t){return!n&&!t?null:(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},n.clone=function(t){return n.fromDateTime(t,t)},n}();n.DateTime=ut;n.httpRequest=li})(wijmo||(wijmo={})),function(n){"use strict";n.culture={Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"}}}};var t=function(){function t(){}return t.format=function(i,r){return r||(n.isNumber(i)?r=i==Math.round(i)?"n0":"n2":n.isDate(i)&&(r="d")),n.isNumber(i)?t.formatNumber(i,r):n.isDate(i)?t.formatDate(i,r):i!=null?i.toString():""},t.formatNumber=function(t,i,r){var s,v,h;typeof r=="undefined"&&(r=!1);n.asNumber(t);n.asString(i);var u,f=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,o=n.culture.Globalize.numberFormat,e=f?f[1].toLowerCase():"n",c=f&&f[2]?parseInt(f[2]):e=="c"?o.currency.decimals:t==Math.round(t)?0:2,y=f&&f[3]?3*f[3].length:0,p=f&&f[4]?f[4]:o.currency.symbol,l=o["."],a=o[","];if(y&&(t/=Math.pow(10,y)),e=="d"){for(u=Math.round(Math.abs(t)).toString();u.length<c;)u="0"+u;return t<0&&(u="-"+u),u}return e=="p"&&(t*=100),u=e=="c"||e=="p"?Math.abs(t).toFixed(c):t.toFixed(c),(r||e=="g")&&u.indexOf(".")>-1&&(u=u.replace(/(\.[0-9]*?)0+$/g,"$1"),u=u.replace(/\.$/,"")),l!="."&&(u=u.replace(".",l)),a&&(e=="n"||e=="c"||e=="p")&&(s=u.indexOf(l),v=/\B(?=(\d\d\d)+(?!\d))/g,u=s>-1?u.substr(0,s).replace(v,a)+u.substr(s):u.replace(v,a)),e=="c"&&(h=o.currency.pattern[t<0?0:1],u=h.replace("n",u).replace("$",p)),e=="p"&&(h=o.percent.pattern[t<0?0:1],u=h.replace("n",u)),u},t.formatDate=function(i,r){var f,e,u;i=n.asDate(i);switch(r){case"r":case"R":return i.toUTCString();case"u":return i.toISOString().replace(/\.\d{3}/,"")}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e="",u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=n.culture.Globalize.numberFormat["."],f=new RegExp("[^\\d\\"+r+"]","g"),e=t.indexOf("-")>-1||t.indexOf("(")>-1&&t.indexOf(")")>-1?-1:1,o=t.indexOf("%")>-1?.01:1,u=i?i.match(/,+/):null,s=u?u[0].length*3:0;return t=t.replace(f,"").replace(r,"."),parseFloat(t)*e*o*Math.pow(10,s)},t.parseDate=function(i,r){var g,u,o,l,rt,b;if(i=n.asString(i),!i)return null;if(r=="u")return new Date(i);if(r=="R"||r=="r")return g=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,u=i.match(g),u[1]||u[5]?(o=u[1]?new Date(parseInt(u[2]),parseInt(u[3])-1,parseInt(u[4])):new Date,u[5]&&(o.setHours(parseInt(u[6])),o.setMinutes(parseInt(u[7])),o.setSeconds(u[8]?parseInt(u[9]):0))):o=new Date(i),o;r=t._expandFormat(r?r:"d");var h=n.culture.Globalize.calendar,nt="a-zÀ-ſ　-ヿ一-龯",ut=new RegExp("(\\"+h["/"]+")|(\\"+h[":"]+")|(\\d+)|(["+nt+"]+)|(["+nt+"\\.]{2, })","gi"),a=i.match(ut),v=t._parseDateFormat(r),tt=0,s=-1,c=0,y=1,f=0,p=0,w=0,it=0,k=-1;if(!a||!a.length||!v||!v.length)return null;for(l=0;l<v.length&&a;l++){var d=l-tt,e=d>-1&&d<a.length?a[d]:"",ft=v[l].length;switch(v[l]){case"dddd":case"ddd":break;case"dd":case"d":y=parseInt(e);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":it=parseInt(e)/Math.pow(10,ft-3);break;case"hh":case"h":f=parseInt(e);f=f==12?0:f;break;case"HH":case"H":f=parseInt(e);break;case"mm":case"m":p=parseInt(e);break;case"MMMM":case"MMM":for(rt=e.toLowerCase(),c=-1,b=0;b<12;b++)if(h.months[b].toLowerCase().indexOf(rt)==0){c=b;break}break;case"MM":case"M":c=parseInt(e)-1;break;case"ss":case"s":w=parseInt(e);break;case"tt":case"t":h.pm[0]&&e.toUpperCase()==h.pm[0]&&f<12&&(f+=12);break;case"yyyy":case"yyy":case"yy":case"y":s=parseInt(e);break;case"ggg":case"gg":case"g":k=h.eras.length>1?t._getEra(e,h):-1;break;case"K":break;case"/":case":":break;default:tt++}}return c<0||c>11||isNaN(c)||y<0||y>31||isNaN(y)||f<0||f>24||isNaN(f)||p<0||p>60||isNaN(p)||w<0||w>60||isNaN(w)?null:(s<0&&(s=(new Date).getFullYear()),k>-1?s=s+h.eras[k].start.getFullYear()-1:s<100&&(s+=s>=30?1900:2e3),o=new Date(s,c,y,f,p+0,w,it),isNaN(o.getTime())?null:o)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat["."];return t?t:"."},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFomatParts)return t._dateFomatParts[n];for(u=[],e="",i=0;i>-1&&i<n.length;i++)if(f=n[i],f=="'"||f=='"')r=n.indexOf(f,i+1),r>-1&&u.push(n.substring(i+1,r)),i=r;else{for(r=i+1;r<n.length;r++)if(n[r]!=f)break;u.push(n.substring(i,r));i=r-1}return t._dateFomatParts[n]=u,u},t._formatDatePart=function(i,r,u){var f=n.culture.Globalize.calendar,e=0,s=0,h=0,c=u.length,o;switch(u){case"dddd":return f.days[i.getDay()];case"ddd":return f.daysAbbr[i.getDay()];case"dd":return t._zeroPad(i.getDate(),2);case"d":return i.getDate().toString();case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return h=i.getMilliseconds()*Math.pow(10,c-3),u[0]=="f"?t._zeroPad(h,c):h.toFixed(0);case"hh":return t._zeroPad(t._h12(i),2);case"h":return t._h12(i).toString();case"HH":return t._zeroPad(i.getHours(),2);case"H":return i.getHours().toString();case"mm":return t._zeroPad(i.getMinutes(),2);case"m":return i.getMinutes().toString();case"MMMM":return f.months[i.getMonth()];case"MMM":return f.monthsAbbr[i.getMonth()];case"MM":return t._zeroPad(i.getMonth()+1,2);case"M":return(i.getMonth()+1).toString();case"ss":return t._zeroPad(i.getSeconds(),2);case"s":return i.getSeconds().toString();case"tt":return i.getHours()<12?f.am[0]:f.pm[0];case"t":return i.getHours()<12?f.am[1]:f.pm[1];case"yyyy":case"yyy":case"yy":case"y":return s=i.getFullYear(),f.eras.length>1&&r.indexOf("g")>-1&&(e=t._getEra(i,f),e>-1&&(s=s-f.eras[e].start.getFullYear()+1)),t._zeroPad(s,4).substr(4-u.length);case"ggg":case"gg":case"g":return f.eras.length>1&&(e=t._getEra(i,f),e>-1)?u=="ggg"?f.eras[e].name:u=="gg"?f.eras[e].name[0]:f.eras[e].symbol:f.eras[0];case"K":return o=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),o?o[1]+o[2]+o[3]:"";case":":return f[":"];case"/":return f["/"]}return u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name.indexOf(t)==0||i.eras[r].symbol.indexOf(t)==0)return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join("0")+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i=i%12,i==0&&(i=12)),i},t._dateFomatParts={},t}();n.Globalize=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n.split("."),t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf("["),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],n==null)return;n[this._parts[this._parts.length-1]]=t},n}();n.Binding=t}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){"use strict";var f=function(){function n(n,t){this.handler=n;this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t);this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length;r++)if(u=this._handlers[r],u.handler==t&&u.self==i){this._handlers.splice(r,1);break}},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(typeof i=="undefined"&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}(),t,i,r,u;n.Event=e;t=function(){function n(){}return n.empty=new n,n}();n.EventArgs=t;i=function(n){function t(){n.apply(this,arguments);this.cancel=!1}return __extends(t,n),t}(t);n.CancelEventArgs=i;r=function(n){function t(t,i,r){n.call(this);this._name=t;this._oldVal=i;this._newVal=r}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t);n.PropertyChangedEventArgs=r;u=function(n){function t(t){n.call(this);this._xhr=t}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),t}(i);n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(i,r,u){var f,l,c,s,v,o;if(typeof r=="undefined"&&(r=null),typeof u=="undefined"&&(u=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,n.assert(t.getControl(i)==null,"Element is already hosting a control."),f=n.getElement(i),n.assert(f!=null,"Cannot find the host element."),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,(f.tagName=="INPUT"||f.tagName=="SELECT")&&(this._orgAtts=f.attributes,this._orgTag=f.tagName,f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,u==!0&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),l=this._handleResize.bind(this),this.addEventListener(window,"resize",l)),c=this,c.addEventListener(f,"focus",function(){setTimeout(function(){c._updateFocusState()},10)},!0),c.addEventListener(f,"blur",function(){setTimeout(function(){c._updateFocusState()},100)},!0),s=this._handleDisabled.bind(this),this.addEventListener(f,"mousedown",s,!0),this.addEventListener(f,"mouseup",s,!0),this.addEventListener(f,"click",s,!0),this.addEventListener(f,"dblclick",s,!0),this.addEventListener(f,"keydown",s,!0),this.addEventListener(f,"onmousewheel"in document?"mousewheel":"DOMMouseScroll",s,!0),t._touching==null&&(t._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var e=document.body,a=this._handleTouchStart,h=this._handleTouchEnd;"ontouchstart"in window?(this.addEventListener(e,"touchstart",a),this.addEventListener(e,"touchend",h),this.addEventListener(e,"touchcancel",h),this.addEventListener(e,"touchleave",h)):"onpointerdown"in window&&(this.addEventListener(e,"pointerdown",a),this.addEventListener(e,"pointerup",h),this.addEventListener(e,"pointerout",h),this.addEventListener(e,"pointercancel",h),this.addEventListener(e,"pointerleave",h))}if(!t._wme||!t._wme.parentElement){v="Wijmo "+n.getVersion()+" eval";t._wme=n.createElement('<div><a href="http://wijmo.com/products/wijmo-5/eval/">'+v+"<\/a><\/div>");o={position:"fixed",padding:5,margin:5,background:"#fff",boxShadow:"0 0 10px rgba(0, 0, 0, 0.25)",fontSize:"11pt",zIndex:1e3,opacity:.8,display:"block",visibility:"visible",height:"auto",width:"auto",transform:"none"};switch(Math.round(Math.random()*100)%2){case 0:o.right=o.bottom=0;break;case 1:o.left=o.bottom=0;break;case 2:o.right=o.top=0}n.setCss(t._wme,o);document.body.appendChild(t._wme)}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate,t)return t;return null},t.prototype.applyTemplate=function(t,i,r,u){var f=this._e,e,o,h,s;if(t&&n.addClass(f,t),e=null,i&&(e=n.createElement(i),e=f.appendChild(e)),f&&!f.getAttribute("tabindex")&&(f.tabIndex=f.querySelector("input")?-1:0),r)for(o in r){if(h=r[o],this[o]=e.querySelector('[wj-part="'+h+'"]'),this[o]==null&&e.getAttribute("wj-part")==h&&(this[o]=e),this[o]==null)throw'Missing template part: "'+h+'"';h==u&&(s=f.attributes.name,s&&s.value&&this[o].setAttribute("name",s.value),s=f.attributes.accesskey,s&&s.value&&(this[o].setAttribute("accesskey",s.value),f.removeAttribute("accesskey")))}return e},t.prototype.dispose=function(){for(var i,r=this._e.querySelectorAll(".wj-control"),n=0;n<r.length;n++)i=t.getControl(r[n]),i&&i.dispose();this._toInv&&clearTimeout(this._toInv);this.removeEventListener();this._e.parentNode&&(this._e.outerHTML=this._orgOuter);this._e[t._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgAtts=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e.focus()},t.prototype.containsFocus=function(){var u,i,r;if(!this._e)return!1;for(u=this._e.getElementsByClassName("wj-control"),i=0;i<u.length;i++)if(r=t.getControl(u[i]),r&&r!=this&&r.containsFocus())return!0;return n.contains(this._e,document.activeElement)},t.prototype.invalidate=function(n){typeof n=="undefined"&&(n=!0);var i=this;i._fullUpdate=i._fullUpdate||n;i._toInv&&(clearTimeout(i._toInv),i._toInv=null);i.isUpdating||(i._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1)},t.invalidateAll=function(i){var u,r;if(i||(i=document.body),u=n.Control.getControl(i),u&&u.invalidate(),i.children)for(r=0;r<i.children.length;r++)t.invalidateAll(i.children[r])},t.refreshAll=function(i){var u,r;if(i||(i=document.body),u=n.Control.getControl(i),u&&u.refresh(),i.children)for(r=0;r<i.children.length;r++)t.refreshAll(i.children[r])},t.disposeAll=function(i){var u=n.Control.getControl(i),r;if(u)u.dispose();else if(i.children)for(r=0;r<i.children.length;r++)t.disposeAll(i.children[r])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"disabled",{get:function(){return this._e&&this._e.getAttribute("disabled")!=null},set:function(t){t=n.asBoolean(t,!0);t!=this.disabled&&(t?this._e.setAttribute("disabled","true"):this._e.removeAttribute("disabled"))},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){typeof r=="undefined"&&(r=!1);n&&(n.addEventListener(t,i,r),this._listeners==null&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i){var u,r;if(this._listeners)for(u=0;u<this._listeners.length;u++)r=this._listeners[u],(n==null||n==r.target)&&(t==null||t==r.type)&&(i==null||i==r.capture)&&(r.target.removeEventListener(r.type,r.fn,r.capture),this._listeners.splice(u,1),u--)},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var r=this.containsFocus(),i,u;if(r!=this._focus&&(this._focus=r,r?this.onGotFocus():this.onLostFocus(),n.toggleClass(this._e,"wj-state-focused",r)),this._e)for(i=this._e.parentElement;i;i=i.parentElement)if(u=t.getControl(i),u){u._updateFocusState();break}},t.prototype._handleTouchStart=function(n){(n.pointerType==null||n.pointerType=="touch")&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(n.pointerType==null||n.pointerType=="touch")&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.disabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var f=n.parentElement,i=document.createElement("div"),r,t,u;for(f.replaceChild(i,n),i.innerHTML=n.innerHTML,r=n.attributes,t=0;t<r.length;t++)u=r[t].name,(u=="id"||u=="style")&&i.setAttribute(u,r[t].value);return i},t.prototype._copyOriginalAttributes=function(n){var r=this._orgAtts,t,i;if(r)for(t=0;t<r.length;t++)i=r[t].name.toLowerCase(),i!="id"&&i!="style"&&i!="type"&&n.setAttribute(i,r[t].value)},t._DATA_KEY="wj-Control",t._REFRESH_INTERVAL=10,t}();n.Control=t}(wijmo||(wijmo={})),function(n){"use strict";function t(t,i,r){for(var f,e,a=0,u=0,c=0,o=0,s=null,h=null,v=r?new n.Binding(r):null,l=0;l<i.length;l++)f=i[l],v&&(f=v.getValue(f)),f!=null&&(a++,(s==null||f<s)&&(s=f),(h==null||f>h)&&(h=f),n.isNumber(f)&&!isNaN(f)?(u++,c+=f,o+=f*f):n.isBoolean(f)&&(u++,f==!0&&(c++,o++)));e=u==0?0:c/u;switch(t){case 3:return e;case 2:return a;case 4:return h;case 5:return s;case 6:return h-s;case 1:return c;case 10:return u<=1?0:o/u-e*e;case 9:return u<=1?0:Math.sqrt(o/u-e*e);case 8:return u<=1?0:(o/u-e*e)*u/(u-1);case 7:return u<=1?0:Math.sqrt((o/u-e*e)*u/(u-1))}throw"Invalid aggregate type.";}(function(n){n[n.None=0]="None";n[n.Sum=1]="Sum";n[n.Cnt=2]="Cnt";n[n.Avg=3]="Avg";n[n.Max=4]="Max";n[n.Min=5]="Min";n[n.Rng=6]="Rng";n[n.Std=7]="Std";n[n.Var=8]="Var";n[n.StdPop=9]="StdPop";n[n.VarPop=10]="VarPop"})(n.Aggregate||(n.Aggregate={}));var i=n.Aggregate;n.getAggregate=t}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var o,r,u,f,i,e;(function(n){n[n.Add=0]="Add";n[n.Remove=1]="Remove";n[n.Change=2]="Change";n[n.Reset=3]="Reset"})(t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}));o=t.NotifyCollectionChangedAction;r=function(n){function t(t,i,r){typeof t=="undefined"&&(t=3);typeof i=="undefined"&&(i=null);typeof r=="undefined"&&(r=-1);n.call(this);this.action=t;this.item=i;this.index=r}return __extends(t,n),t.reset=new t(3),t}(n.EventArgs);t.NotifyCollectionChangedEventArgs=r;u=function(){function t(t,i){this._bnd=new n.Binding(t);this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=u;f=function(n){function t(t){n.call(this);this.newPageIndex=t}return __extends(t,n),t}(n.CancelEventArgs);t.PageChangingEventArgs=f;i=function(){function n(){}return n.prototype.groupNameFromItem=function(){return""},n.prototype.namesMatch=function(n,t){return n===t},n}();t.GroupDescription=i;e=function(t){function i(i,r){t.call(this);this._bnd=new n.Binding(i);this._converter=r}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(i);t.PropertyGroupDescription=e})(n.collections||(n.collections={}));var t=n.collections}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(){function n(){this.length=0;Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n}(),r;t.ArrayBase=i;i.prototype=Array.prototype;r=function(i){function r(t){if(i.call(this),this._updating=0,this.collectionChanged=new n.Event,t){t=n.asArray(t);this._updating++;for(var r=0;r<t.length;r++)this.push(t[r]);this._updating--}}return __extends(r,i),r.prototype.push=function(n){var t=i.prototype.push.call(this,n);return this._updating||this._raiseCollectionChanged(0,n,t-1),t},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(1,n,this.length),n},r.prototype.splice=function(n,t,r){var u;return t&&r?(u=i.prototype.splice.call(this,n,t,r),t==1?this._raiseCollectionChanged(2,r,n):this._raiseCollectionChanged(),u):r?(u=i.prototype.splice.call(this,n,0,r),this._raiseCollectionChanged(0,r,n),u):(u=i.prototype.splice.call(this,n,t),t==1?this._raiseCollectionChanged(1,u[0],n):this._raiseCollectionChanged(),u)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){this.splice(n,1,t)},r.prototype.clear=function(){this.length!==0&&(this.length=0,this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,this._updating==0&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return n=="INotifyCollectionChanged"},r.prototype.onCollectionChanged=function(n){typeof n=="undefined"&&(n=t.NotifyCollectionChangedEventArgs.reset);this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i);t.ObservableArray=r})(n.collections||(n.collections={}));var t=n.collections}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var r=function(){function r(i){this._idx=-1;this._srtDsc=new t.ObservableArray;this._grpDesc=new t.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._canFilter=!0;this._canGroup=!0;this._canSort=!0;this._canAddNew=!0;this._canCancelEdit=!0;this._canRemove=!0;this._canChangePage=!0;this._trackChanges=!1;this._chgAdded=new t.ObservableArray;this._chgRemoved=new t.ObservableArray;this._chgEdited=new t.ObservableArray;this.collectionChanged=new n.Event;this.currentChanged=new n.Event;this.currentChanging=new n.Event;this.pageChanged=new n.Event;this.pageChanging=new n.Event;var r=this;r._srtDsc.collectionChanged.addHandler(function(){for(var f,u=r._srtDsc,i=0;i<u.length;i++)if(f=n.tryCast(u[i],t.SortDescription),!f)throw"sortDescriptions array must contain SortDescription objects.";r.canSort&&r.refresh()});r._grpDesc.collectionChanged.addHandler(function(){for(var f,u=r._grpDesc,i=0;i<u.length;i++)if(f=n.tryCast(u[i],t.GroupDescription),!f)throw"groupDescriptions array must contain GroupDescription objects.";r.canGroup&&r.refresh()});this.sourceCollection=i?i:new t.ObservableArray}return Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),r.prototype.implementsInterface=function(n){switch(n){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()},r.prototype.onCollectionChanged=function(n){typeof n=="undefined"&&(n=t.NotifyCollectionChangedEventArgs.reset);this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){typeof n=="undefined"&&(n=3);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this._pgView.length==0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){var i=this.currentPosition;this.commitEdit();this.commitNew();this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged);this._src=n.asArray(t,!1);this._ncc=n.tryCast(this._src,"INotifyCollectionChanged");this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this);this.clearChanges();this.refresh();this.moveCurrentToFirst();this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.moveCurrentToPrevious=function(){return this.moveCurrentToPosition(this._idx-1)},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var u=this.currentItem,t,r,i;if(this._src)if(this._filter&&this.canFilter)for(this._view=[],t=0;t<this._src.length;t++)r=this._src[t],this._filter(r)&&this._view.push(r);else this._view=this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src;else this._view=[];this._srtDsc.length>0&&this.canSort&&this._view.sort(this._compareItems());this._groups=this.canGroup?this._createGroups(this._view):null;this._fullGroups=this._groups;this._groups&&(this._view=this._mergeGroupItems(this._groups));this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1);this._pgView=this._getPageView();this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));i=this._pgView.indexOf(u);i<0&&(i=Math.min(this._idx,this._pgView.length-1));this._idx=i;this._digest=this._getGroupsDigest(this.groups);this.currentItem!==u&&this.onCurrentChanged()},r.prototype._compareItems=function(){var t=this._srtDsc,n=this._srtCvt,i=!0;return function(r,u){for(var h,s=0;s<t.length;s++){var o=t[s],f=o._bnd.getValue(r),e=o._bnd.getValue(u);if(f!==f&&(f=null),e!==e&&(e=null),typeof f=="string"&&(f=f.toLowerCase()+f),typeof e=="string"&&(e=e.toLowerCase()+e),n&&(f=n(o,r,f,i),e=n(o,u,e,!1),i=!1),f!=null&&e==null)return-1;if(f==null&&e!=null)return 1;if(h=f<e?-1:f>e?1:0,h!=0)return o.ascending?+h:-h}return 0}},r.prototype.onCurrentChanged=function(t){typeof t=="undefined"&&(t=n.EventArgs.empty);this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),r.prototype.addNew=function(){var t,i;if(arguments.length>0&&n.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,"cannot add items (canAddNew == false)."),null;if(t=null,t=this.newItemCreator?this.newItemCreator():this.sourceCollection&&this.sourceCollection.length?this.sourceCollection[0].constructor():{},t!=null){if(this._newItem=t,this._updating++,this._src.push(t),this._updating--,this._pgView!=this._src&&this._pgView.push(t),this.groups&&this.groups.length)for(i=this.groups[this.groups.length-1],i.items.push(t);i.groups&&i.groups.length;)i=i.groups[i.groups.length-1],i.items.push(t);this._raiseCollectionChanged(0,t,this._pgView.length-1);this.moveCurrentTo(t)}return this._newItem},r.prototype.cancelEdit=function(){var i=this._edtItem,t;if(i!=null){if(this._edtItem=null,!this.canCancelEdit){n.assert(!1,"cannot cancel edits (canCancelEdit == false).");return}if(t=this._src.indexOf(i),t<0||!this._edtClone)return;this._extend(this._src[t],this._edtClone);this._edtClone=null;this._raiseCollectionChanged(2,i,t)}},r.prototype.cancelNew=function(){var n=this._newItem;n!=null&&this.remove(n)},r.prototype.commitEdit=function(){var n=this._edtItem,r,f,u,e,i;if(n!=null){if(f=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,u=this._pgView.indexOf(n),e=this._digest,this._performRefresh(),this._trackChanges==!0&&!f)if(i=this._chgEdited.indexOf(n),i<0&&this._chgAdded.indexOf(n)<0)this._chgEdited.push(n);else if(i>-1){r=new t.NotifyCollectionChangedEventArgs(2,n,i);this._chgEdited.onCollectionChanged(r)}else if(i=this._chgAdded.indexOf(n),i>-1){r=new t.NotifyCollectionChangedEventArgs(2,n,i);this._chgAdded.onCollectionChanged(r)}this._pgView.indexOf(n)==u&&e==this._digest?this._raiseCollectionChanged(2,n,u):this._raiseCollectionChanged()}},r.prototype.commitNew=function(){var n=this._newItem,t,r,i;n!=null&&(this._newItem=null,t=this._pgView.indexOf(n),r=this._digest,this._performRefresh(),this._trackChanges==!0&&(i=this._chgEdited.indexOf(n),i>-1&&this._chgEdited.removeAt(i),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==t&&r==this._digest?this._raiseCollectionChanged(2,n,t):this._raiseCollectionChanged())},r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.remove=function(t){var u=t==this._newItem,f,r,e,i,o;if(u&&(this._newItem=null),t==this._edtItem&&this.cancelEdit(),!this.canRemove){n.assert(!1,"cannot remove items (canRemove == false).");return}r=this._src.indexOf(t);r>-1&&(f=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,r=this._pgView.indexOf(t),e=this._digest,this._performRefresh(),this._trackChanges==!0&&(i=this._chgAdded.indexOf(t),i>-1&&this._chgAdded.removeAt(i),i=this._chgEdited.indexOf(t),i>-1&&this._chgEdited.removeAt(i),this._chgRemoved.indexOf(t)<0&&!u&&this._chgRemoved.push(t)),o=this.pageSize>0&&this._pgIdx>-1,o||e!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(1,t,r),this.currentItem!==f&&this.onCurrentChanged())},r.prototype.removeAt=function(t){t=n.asInt(t);this.remove(this._pgView[t])},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t==i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var r=n.clamp(i,0,this.pageCount-1),u;return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,"cannot change pages (canChangePage == false)."),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():(this.onPageChanged(),this.onCollectionChanged()))),this._pgIdx==i},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.onPageChanged=function(t){typeof t=="undefined"&&(t=n.EventArgs.empty);this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return t!=null&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if((r=n[u],r.level==t&&r._path==i)||r.level<t&&r._path.indexOf(i)==0&&(r=this._getGroupByPath(r.items,t,i),r!=null))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f="";for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f];!r&&n.isPrimitive(o)&&(r={},h[f]=r);e=this._getGroup(v,l,r,o,i,y);f+="/"+o;e._path=f;y&&e.items.push(c);l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i="",r=0;n!=null&&r<n.length;r++)t=n[r],i+="{"+t.name+":"+(t.items?t.items.length:"*"),t.groups.length>0&&(i+=",",i+=this._getGroupsDigest(t.groups)),i+="}";return i},r.prototype._mergeGroupItems=function(n){for(var t,u,i=[],r=0;r<n.length;r++)t=n[r],t._isBottomLevel||(u=this._mergeGroupItems(t.groups),t._items.push.apply(t._items,u)),i.push.apply(i,t._items);return i},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f],c)return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}(),i;t.CollectionView=r;i=function(){function t(n,t,i,r){this._gd=n;this._name=t;this._level=i;this._isBottomLevel=r;this._groups=[];this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}();t.CollectionViewGroup=i})(n.collections||(n.collections={}));var t=n.collections}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){"use strict";var i=function(){function i(){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=!0;this._gap=6;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new n.Event}return i.prototype.setTooltip=function(t,i){t=n.getElement(t);i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1));i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var e,o;r=n.getElement(r);u=this._getContent(u);f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect()));e=i._eTip;e||(e=i._eTip=document.createElement("div"),n.addClass(e,"wj-tooltip"),e.style.visibility="none",document.body.appendChild(e));this._setContent(u);o=new t(u);this.onPopup(o);o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth="",f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility="hidden",i._eTip.innerHTML="");document.removeEventListener("mousedown",this._hideAutoTipBnd)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&i._eTip.style.visibility!="hidden"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){this.popup&&this.popup.raise(this,n)},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener("mouseenter",this._showAutoTipBnd);n.addEventListener("mouseleave",this._hideAutoTipBnd);n.addEventListener("click",this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener("mouseenter",this._showAutoTipBnd);n.removeEventListener("mouseleave",this._hideAutoTipBnd);n.removeEventListener("click",this._showAutoTipBnd)},i.prototype._showAutoTip=function(n){var t=this,i=n.type=="mouseenter"?t._showDelay:0;t._clearTimeouts();t._toShow=setTimeout(function(){var r=t._indexOf(n.target),i;r>-1&&(i=t._tips[r],t.show(i.element,i.content),t._hideDelay>0&&(t._toHide=setTimeout(function(){t.hide()},t._hideDelay)))},i)},i.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&t[0]=="#"){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}(),r,t;n.Tooltip=i;r=function(){function n(){}return n}();t=function(t){function i(i){t.call(this);this._content=n.asString(i)}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs);n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(n){this._r=0;this._g=0;this._b=0;this._a=1;n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var t=Math.round(this.a*100);return t>99?"#"+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):n.format("rgba("+this.r+","+this.g+","+this.b+","+t/100+")",this)},t.fromRgba=function(i,r,u,f){typeof f=="undefined"&&(f=1);var e=new t(null);return e.r=n.asNumber(i),e.g=n.asNumber(r),e.b=n.asNumber(u),e.a=n.asNumber(f),e},t.fromHsb=function(i,r,u,f){typeof f=="undefined"&&(f=1);var e=t._hsbToRgb(n.asNumber(i),n.asNumber(r),n.asNumber(u));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){typeof f=="undefined"&&(f=1);var e=t._hslToRgb(n.asNumber(i),n.asNumber(r),n.asNumber(u));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),n&&n.indexOf("#")!=0&&n.indexOf("rgb")!=0&&n.indexOf("hsl")!=0&&(u=document.createElement("div"),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),n.indexOf("#")==0)return n.length==4?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):n.length==7?(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0):!1;if(n.indexOf("rgb")==0&&(r=n.indexOf("("),e=n.indexOf(")"),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(","),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(n.indexOf("hsl")==0&&(r=n.indexOf("("),e=n.indexOf(")"),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(","),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf("%")>-1&&(s/=100),i[2].indexOf("%")>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,"bad HSL values"),r==0?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(o*255),Math.round(s*255),Math.round(h*255)]},t._hue2rgb=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,"bad RGB values");t/=255;i/=255;r/=255;var u=Math.max(t,i,r),o=Math.min(t,i,r),f,s,h=(u+o)/2;if(u==o)f=s=0;else{e=u-o;s=h>.5?e/(2-u-o):e/(u+o);switch(u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,"bad RGB values");var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,"bad HSB values");var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),"bad conversion to HSL"),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,"bad HSL values");var u=n.clamp(r==1?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),"bad conversion to HSB"),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function n(){}return n.copy=function(t){n._copyPasteInternal(t)},n.paste=function(t){n._copyPasteInternal(t)},n._copyPasteInternal=function(n){var i=document.activeElement,t=document.createElement("textarea");t.style.position="fixed";t.style.opacity="0";document.body.appendChild(t);typeof n=="string"&&(t.value=n);t.select();setTimeout(function(){var r=t.value;document.body.removeChild(t);i.focus();typeof n=="function"&&n(r)},100)},n}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){"use strict";function i(t,i,r,u){var c,a,s,p,v,h,y,k,d;if(typeof i=="undefined"&&(i=null),typeof r=="undefined"&&(r=!1),typeof u=="undefined"&&(u=!1),c=document.body,i instanceof HTMLElement){if(!n.contains(document.body,i))return;for(s=i.parentElement;s;s=s.parentElement)if(p=getComputedStyle(s).position,p!="relative"||a){if(p=="fixed"){c=a?a:s;break}}else a=s}v=t.parentElement;v!=c&&(v&&v.removeChild(t),c.appendChild(t));i instanceof HTMLElement&&(h=getComputedStyle(i),n.setCss(t,{color:h.color,backgroundColor:h.backgroundColor,fontFamily:h.fontFamily,fontSize:h.fontSize,fontWeight:h.fontWeight,fontStyle:h.fontStyle}));n.setCss(t,{position:"absolute",visibility:"hidden",display:""});var l=getComputedStyle(t),g=parseFloat(l.marginTop)+parseFloat(l.marginBottom),nt=parseFloat(l.marginLeft)+parseFloat(l.marginRight),e=new n.Size(t.offsetWidth+nt,t.offsetHeight+g),o=new n.Point,f=null;if(i instanceof MouseEvent)i.clientX<=0&&i.clientY<=0&&i.target?f=i.target.getBoundingClientRect():(o.x=Math.max(0,i.clientX-e.width/2),o.y=Math.max(0,i.clientY-e.height/2));else if(i instanceof HTMLElement)f=i.getBoundingClientRect();else if(i&&i.top!=null&&i.left!=null)f=i;else if(i==null)o.x=Math.max(0,(innerWidth-e.width)/2),o.y=Math.max(0,(innerHeight-e.height)/2);else throw"Invalid ref parameter.";if(y=parseFloat(l.minWidth),f){var w=f.top,b=innerHeight-f.bottom,tt=getComputedStyle(t).direction=="rtl";o.x=tt?Math.max(0,f.right-e.width):Math.max(0,Math.min(f.left,innerWidth-e.width));o.y=r?w>e.height||w>b?Math.max(0,f.top-e.height):f.bottom:b>e.height||b>w?f.bottom:Math.max(0,f.top-e.height);y=Math.max(y,f.width)}k=i==null?new n.Rect(0,0,0,0):c==document.body?new n.Rect(-pageXOffset,-pageYOffset,0,0):c.getBoundingClientRect();d={position:i==null?"fixed":"absolute",left:o.x-k.left,top:o.y-k.top,minWidth:y,display:"",visibility:"visible",zIndex:1500};u&&(t.style.opacity="0",n.animate(function(n){t.style.opacity=n==1?"":n.toString()}));n.setCss(t,d)}function r(i,r,u){typeof r=="undefined"&&(r=!0);typeof u=="undefined"&&(u=!1);u?n.animate(function(n){i.style.opacity=(1-n).toString();n==1&&(t(i,r),i.style.opacity="")}):t(i,r)}function t(n,t){n.style.display="none";t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i;n.hidePopup=r}(wijmo||(wijmo={})),function(n){"use strict";var i=function(){function i(n,t,i){typeof t=="undefined"&&(t=null);typeof i=="undefined"&&(i="_");this._promptChar="_";this._mskArr=[];this._full=!0;this._hbInput=this._hInput.bind(this);this._hbKeyPress=this._hKeyPress.bind(this);this._hbKeyDown=this._hKeyDown.bind(this);this.mask=t;this.input=n;this.promptChar=i;this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1);this._tbx=n;this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(this._promptChar.length==1,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t=this._tbx.value,i="",n;if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask();this._valueChanged()},i.prototype._hInput=function(){var n=this;setTimeout(function(){n._valueChanged()})},i.prototype._hKeyPress=function(t){var r,i,u,f,e;if(t.charCode&&this._mskArr.length){if(r=this.input,i=r.selectionStart,i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(r,i,i)),i>=this._mskArr.length){t.preventDefault();return}u=this._mskArr[i];u.literal?this._validatePosition(i):(f=u.wildCard,e=String.fromCharCode(t.charCode),f==e||this._isCharValid(f,e)||t.preventDefault())}},i.prototype._hKeyDown=function(n){this._backSpace=n.keyCode==8},i.prototype._connect=function(n){var t=this.input;t&&(n?(t.addEventListener("input",this._hbInput),t.addEventListener("keypress",this._hbKeyPress),t.addEventListener("keydown",this._hbKeyDown),this._valueChanged()):(t.removeEventListener("input",this._hbInput),t.removeEventListener("keypress",this._hbKeyPress),t.removeEventListener("keydown",this._hbKeyDown)))},i.prototype._valueChanged=function(){var n=this._tbx,t;n&&(t=n.selectionStart,n.value=this._applyMask(),document.activeElement==this._tbx&&this._validatePosition(t))},i.prototype._applyMask=function(){var t=this._tbx.value,e="",u=0,f,r,n,i,o;if(this._full=!0,!this.mask)return t;for(f=0;f<this._mskArr.length;f++){if(r=this._mskArr[f],n=r.literal,n&&n==t[u]&&u++,r.wildCard){if(n=this._promptChar,t){for(i=u;i<t.length;i++)if(o=t[i],this._isCharValid(r.wildCard,o)){n=t[i];switch(r.charCase){case">":n=n.toUpperCase();break;case"<":n=n.toLowerCase()}break}u=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._isCharValid=function(n,t){var i=this._promptChar;switch(n){case"0":return t>="0"&&t<="9"||t==i;case"9":return t>="0"&&t<="9"||t==" "||t==i;case"#":return t>="0"&&t<="9"||t==" "||t=="+"||t=="-"||t==i;case"L":return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==i;case"l":return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==" "||t==i;case"A":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||t==i;case"a":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||t==" "||t==i}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)while(t>0&&t<i.length&&i[t-1].literal)t--;if(t==0||!this._backSpace)while(t<i.length&&i[t].literal)t++;this._backSpace=!1;n.setSelectionRange(this.input,t,t)},i.prototype._parseMask=function(){var r,e,u,i,f;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,e="|",i=0;r&&i<r.length;i++)switch(r[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":this._firstPos<0&&(this._firstPos=this._mskArr.length);this._lastPos=this._mskArr.length;this._mskArr.push(new t(r[i],e));break;case".":case",":case":":case"/":case"$":switch(r[i]){case".":case",":u=n.culture.Globalize.numberFormat[r[i]];break;case":":case"/":u=n.culture.Globalize.calendar[r[i]];break;case"$":u=n.culture.Globalize.numberFormat.currency.symbol}for(f=0;f<u.length;f++)this._mskArr.push(new t(u[f]));break;case"<":case">":case"|":e=r[i];break;case"\\":i<r.length-1&&i++;this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}},i}(),t;n._MaskProvider=i;t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}();n._MaskElement=t}(wijmo||(wijmo={})),function(){"use strict";if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var i=Date.now(),r=16-(i-n),u=r>0?r:0;return n=i+u,setTimeout(function(){t(n)},u)};window.cancelAnimationFrame=clearTimeout}document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&document.addEventListener("selectstart",function(n){for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return n.preventDefault(),n.stopImmediatePropagation(),t.dragDrop(),!1})}(wijmo||(wijmo={}))